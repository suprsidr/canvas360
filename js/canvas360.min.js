function canvas360(e){e=e||{},e.canvasId=e.canvasId||!1,e.canvasWidth=e.canvasWidth||640,e.canvasHeight=e.canvasHeight||360,e.framesPath=e.framesPath||"img/360/",e.framesFile=e.framesFile||"",e.framesCount=e.framesCount||36,e.framesReverse=e.framesReverse||!1,e.logoImagePath=e.logoImagePath||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHwAAAAXCAMAAAD+89sVAAAA2FBMVEUAAAD///////////////////z///////////////////////////////////////3//////////fj//////////////vn//////vf/////////++z//////////////////////////////////////////////////////////////////v7////////////////+3Vv9zwr////90SL+56391Db92FP+9NT++On8ywD+7a7+44H90y7+5ZT+44f+6Lv+4XD////9zhr8ygD9zRT8zA391CndTDoyAAAAQnRSTlMAPdnwKAxHHzIEQ51QTS83mBAVVKpXGiQIw70BekrTavdczciQfrCKYIFxhKW3ZOIrr8/rui6zkayn7q6hxG5jgKx0TLk6AAADaklEQVRIx8WU55KiQBCAG5YkUTIo4IquskY2XM6z6L3/G90Ey8F1rup+3X5VCjTNfDM9AZLUHQMjVdwMCGNpV9yvbP0UbvUTaQoYtW0TUFKd49LMd98/PD+///AjAELg6m0GDF0xfBCBEDL5bYMvd+jMzGBhzpMOS3yZoksAHn533fHl5dB13eEnAGxJOAXKLUJDgZq+8LjcBh0RbupcpjcLgNceGyE5vowtEmpmHI7d7zFYLJlSIbQWym8QMri8papiAARlj++3JMMCPwgC3y9xYC7hP1WytbIsNTUk+ZXXdS99uhdcP26vEbr/m1zlRQgi/AGfnyHx5Lg3cMLDvbFpm4yAVef55Ob2HzvE7biId2QpDU6whcXk1SLHbEc41SHzebkirKjXb3wfaVy+RJgVqN3hrD0cjkc8748TnOkj+WYJALuhVYSa6WiM0jQ1p5SovA+ZqQygP/SadCqXMVVFUhTpLN+TZxev8+OBTjXl8+Pjt4eH7461nQM8jdAIYCYo+3hwkuN603+xPEd9hrA7yYNzWd8x6bf3D1+/fPy0GdXV7eKOvlvSLypadvGcp3zOyXyG12WX74d0AclOArBiSrrbIiBkv6g0n8m35006YVkFvmh4CMu/yrkpWOA/shT4nPq47AV7zdYmaxZH+Sa9R6+RGiaHDXuei+UX+1yhihWrfFqTIZAMdkTQRtkhBBEaRZad2nEYhrHZvHbf0n4DYfbPcgfay0Mm759PNzQjlEcrU45mT9y1h0v3E9BDhn8lkIuP1zVvpPZYeHvOqJFETprl1fG66nWlBDYtwGCLQ4QimQNgeJLJzpukmUeRtTJY2DWMbAwDKYyLFPzYDjTT9SXP4Eg00w/XVrRZl6w53SRRhmmYiVBOUsdjEKD6KsvwE7eMp7HCHiHz8QvhByAOs10tguz+QhG8mEzMcAeZq8V2bLu9tua2t3PgmmJlOJPsOt6sATamUL5PPL0yruPlEFQ9r2JbauGCZOsGlmj9jCZ6nItGaE2LJQipXdPdpNfxzVAJXU+GKwJLc+/WIkfROmtd5KiGIKYiW1G6jPnStJnsyySJBCXRayXwqkww8saHKBRO7Q7EtOSX9cSKHcYhGcBUa4RrVIqdqSieTJ1GETr0AP6BwLAdR8rgTZgUtg9vhTM1VPh//AHAidcBf3YHngAAAABJRU5ErkJggg==",e.loaderBarColor=e.loaderBarColor||"#ffffff",e.loaderFillColor=e.loaderFillColor||"#fecd18",e.loaderFillGradient=e.loaderFillGradient||!1,e.loaderFillColor2=e.loaderFillColor2||"#ffffff",e.bgGradientColor1=e.bgGradientColor1||"#666666",e.bgGradientColor2=e.bgGradientColor2||"#cccccc",e.alpha=e.alpha||!1;var a=[],o=0,t=0,r=0,n=15,l=0,d=0,c=0,s=0,h=0,l=0,g=!1,m=0,f=0,u=1,A=50,v=u;window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,17)}}();var w=function(e){deltaDif=Math.ceil(e/(A/2)),l+=deltaDif,h=1,g||(g=!0,T())},p=function(e){deltaDif=deltaDif=Math.ceil(e/(A/2)),l+=deltaDif,h=2,l+=deltaDif,g||(g=!0,T())},C=!1,y=0,D=0,R=function(e){e.preventDefault(),C=!0,y=e.touches?e.touches[0].pageX:e.pageX,D=e.touches?e.touches[0].pageY:e.pageY,e.touches&&1!=e.touches.length&&(C=!1)},G=function(){C=!1},L=function(a){a.preventDefault();var o=0,t=a.touches?a.touches[0].pageX:a.pageX,i=a.touches?a.touches[0].pageY:a.pageY;if(C&&(o=Math.abs(v==u?i-D:t-y)),C&&(v!=u||e.framesReverse?v==u&&e.framesReverse?(o=Math.abs(t-y),vDirection=y>t?0:1):(o=Math.abs(i-D),vDirection=i>D?2:3):(o=Math.abs(t-y),vDirection=t>y?0:1),o>=A)){var r=null;switch(vDirection){case 0:r=w;break;case 1:r=p}null!=r&&r(o),y=a.touches?a.touches[0].pageX:a.pageX,D=a.touches?a.touches[0].pageY:a.pageY}},b=null,P=null,F=this;startPreload=function(){imageLogo=new Image,imageLogo.src=e.logoImagePath,imageLogo.onload=function(){logoWidth=imageLogo.width,logoHeight=imageLogo.height,logoX=(e.canvasWidth-logoWidth)/2,logoY=(e.canvasHeight-logoHeight)/2;var l=b.width/2,d=b.height/2,c=P.createRadialGradient(l,d,250,l,d,0);for(c.addColorStop(0,e.bgGradientColor1),c.addColorStop(1,e.bgGradientColor2),P.save(),P.fillStyle=c,e.alpha||P.fillRect(0,0,b.width,b.height),P.restore(),P.drawImage(imageLogo,logoX,logoY),P.strokeStyle=e.loaderBarColor,o=logoX-20,t=logoY+logoHeight+10,r=logoWidth+40,P.strokeRect(o,t,r,n),i=0;i<e.framesCount;i++){a[i]=new Image;var s=(9>i?"0":"")+(i+1);a[i].src=e.framesPath+e.framesFile.replace("{col}",s)}setTimeout(function(){I()},20)}};var I=function(){for(i=0;i<e.framesCount;i++)a[i].complete&&d++,loaderWidth=Math.ceil((r-2)*(d/100));return e.loaderFillGradient?(gradient=P.createLinearGradient(o+1,t+1,loaderWidth,n-2),gradient.addColorStop(0,e.loaderFillColor),gradient.addColorStop(1,e.loaderFillColor2),P.save(),P.fillStyle=gradient):P.fillStyle=e.loaderFillColor,P.clearRect(o+1,t+1,loaderWidth,n-2),P.fillRect(o+1,t+1,loaderWidth,n-2),F=this,d>=e.framesCount?void Y():void setTimeout(function(){I()},20)},T=function(){1==h&&c++,2==h&&c--,s++,0>c&&(c=e.framesCount-1),c>e.framesCount-1&&(c=0),Y(),l>s?requestAnimFrame(function(){T()}):(h=0,l=0,s=0,g=!1)},Y=function(){c>e.framesCount-1&&(c=0),0>c&&(c=e.framesCount-1),currentImage=a[c],c>=0&&c<e.framesCount-1&&(P.clearRect(0,0,b.width,b.height),P.drawImage(currentImage,m,f))};if(e.canvasId){var H=document.querySelector(e.canvasId);if(!H)return void alert("Invalid element ID.");b=document.createElement("canvas"),b.width=e.canvasWidth,b.height=e.canvasHeight,H.className+=" canvas360Wrapper",H.style.width=b.width+"px",H.style.height=b.height+"px",H.innerHTML="",H.appendChild(b),P=b.getContext("2d"),b.onmousedown=R,b.ontouchstart=R,b.onmousemove=L,b.ontouchmove=L,window.onkeydown=function(a){var o=a.keyCode||a.charCode;o&&(37==o?e.framesReverse?w():p():39==o&&(e.framesReverse?p():w()))},document.body.addEventListener("touchstart",function(){}),window.onmouseup=G,startPreload()}}